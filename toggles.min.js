!function(){var t=angular.module("toggles",[]);t.factory("toggles",["$document","$rootScope",function(t,e){t.on("click",function(n){for(var g=angular.element(n.target),r=g;r.length;){if(r.attr("ng-toggle")||r.attr("ng-toggled")||r.attr("ng-toggled-show"))return;r=angular.element(r.parent())}t[0].documentElement.contains(n.target)&&e.$apply(function(){var t;for(var e in o.toggles)t=o.toggles[e],t.autoClose&&(t.state=!1)})});var o={toggles:{},create:function(t,n){var g=o.toggles[t];if(g)return void(g.count+=1);var r=void 0!==n.closeable?!!n.closeable:!0;if(n.autoClose&&!r)throw new Error("toggles: toggle cannot be auto-close without being closeable: "+t);var l=r?!!n.defaultState:!0;g={state:l,group:n.group||null,autoClose:n.autoClose||!1,closeable:r,count:1},o.toggles[t]=g,g.group&&(g.deregisterGroupWatch=e.$watch(function(){return g.state},function(t){var e;if(t)for(var n in o.toggles)e=o.toggles[n],g!==e&&g.group===e.group&&(e.state=!1)}))},destroy:function(t){var e=o.toggles[t];return e?(e.count-=1,void(e.count||(e.deregisterGroupWatch&&e.deregisterGroupWatch(),delete o.toggles[t]))):void console.warn("ng-toggle: destroying invalid toggle",t)},toggle:function(t,e){var n=o.toggles[t];return n?(e=arguments.length>1?!!e:!n.state,n.closeable||(e=!0),void(n.state=e)):void console.warn("ng-toggle: toggling invalid toggle",t)},state:function(t){var e=o.toggles[t];return e?e.state:!1}};return o}]),t.directive("ngToggle",["$interpolate","$parse","$rootScope","toggles",function(t,e,o,n){var g=function(t,o){return t?e(t):function(){return o||""===t}};return{restrict:"A",compile:function(e,o){var r=t(o.ngToggle||""),l=t(o.ngToggleGroup||""),a=g(o.ngToggleDefault),u=g(o.ngToggleAutoClose),i=g(o.ngToggleCloseable,!0);return function(t,e,o){var g=r(t);if(!g)throw new Error("ng-toggle: invalid toggle name");var c=a(t)||!1,s=l(t)||"",f=u(t),d=i(t);n.create(g,{autoClose:f,defaultState:c,group:s,closeable:d}),e.on("click",function(){t.$apply(function(){n.toggle(g)})}),t.$watch(function(){return n.state(g)},function(t){e.toggleClass("toggled",t)}),t.$on("$destroy",function(){n.destroy(g)})}}}}]),t.directive("ngToggled",["$animate","$interpolate","toggles",function(t,e,o){return{restrict:"A",priority:1e3,transclude:!0,compile:function(n,g,r){var l=e(g.ngToggled);return function(e,n,g,a){var u,i,c=l(e),s=function(){return o.state(c)};e.$watch(s,function(o){u&&(t.leave(u),u=void 0),i&&(i.$destroy(),i=void 0),o&&(i=e.$new(),r(i,function(e){u=e,t.enter(e,n.parent(),n)}))})}}}}]),t.directive("ngToggledShow",["$interpolate","toggles",function(t,e){return{compile:function(o,n){var g=t(n.ngToggledShow);return function(t,o){var n=g(t);t.$watch(function(){return e.state(n)},function(t){o.toggleClass("ng-hide",!t)})}}}}])}();